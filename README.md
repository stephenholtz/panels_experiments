This repository has all of the code to make/test files for the panelsfor stimulus display.**FOLDERS**./ - functions in the main file are general utilities (for making functions and patterns)./configs - contains arena configuration files that are needed for mapping the data in a pattern file to the display arena../patterns - contains funcitons for making patterns./position_functions - contains functions for making position_functions./protocols - contains a folder for each tethered flight experiment, within each experiment's folder is a copy of all files that are on the SD card when an experiment is run (SD_card_contents). There is a metadata file that will be saved with each experiment, and an m file with the same name as the directory that has all of the different conditions for that experiment.Each protocol folder location is passed to run_panels_experiment (in panels_experiment_utilities) to start the experiment, which will take some general settings from panels_experiment_instance (also in panels_experiment_utlitities)../imaging_protocols - contains a folder for each imaging experiment,similar to the tethered flight protocols except for some of the fields that the m file will return. This folder is also passed to a function run_panels_imaging_experiment, which is panels_imaging_experiment_utilities (a less structured version of the tethered flight version).**TO RUN**cd /panels_experiments/protocols/jct_telethon/% Edit the metadata file fields that will be saved with the experimentedit metadata.mcd /panels_imaging_experiment% Edit the panels_experiment_instance file to to change the number of% experiment repetitions, destination for data, checking for flight...edit panels_experiment_instance.mrun_panels_experiment('/panels_experiments/protocols/jct_telethon/')% The function will check that the protocol file described below is% valid.% The protocol file, is the file with the same name as the folder % containing all of the files i.e. in this case % 'panels_experiments/protocols/jct_telethon/jct_telethon.m'% This file is a function which returns a set of stimulus % parameters, and as a second argument the duration of a repetition.% The run_panels_experiment function will check that this protocol% has fields as described in check_panels_protocol.m% This function will also check that there is a folder called % 'SD_card_contents' in this same protocol folder. All of the% references to pattern names etc., that the protocol file (i.e. % jct_telethon.m) makes should point there, and NOT to some % random pattern making folder somewhere else.After that run_panels_experiment passes there is some amount of time given to align the fly and the stimuli are shown with some interspersal period between them with closed loop stripe fixation.If the fly stops flying it gets puffed, if it does this a lot, thenan email is sent. At the end of the experiment an email is sent. (to me).**OTHER THINGS**All of the patterns and position functions by default are sentto the folder where the pattern or function making file is located, so before an experiment you have to move them to theSD_card_contents folder in the protocol folder. This is to prevent confusion, but sometimes it makes some, so watchout...Stephen